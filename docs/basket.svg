<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="789px" preserveAspectRatio="none" style="width:2259px;height:789px;" version="1.1" viewBox="0 0 2259 789" width="2259px" zoomAndPan="magnify"><defs><filter height="300%" id="f1f6vabj1t5kyj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[0ddcf4f90363c99eaed207ca74f31b12]
class VipDiscount--><rect codeLine="1" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="86.4141" id="VipDiscount" style="stroke: #A80036; stroke-width: 1.5;" width="197" x="176.5" y="415"/><ellipse cx="235.25" cy="431" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M237.5938,426.6719 C236.6563,426.2344 236.0625,426.0938 235.1875,426.0938 C232.5625,426.0938 230.5625,428.1719 230.5625,430.8906 L230.5625,432.0156 C230.5625,434.5938 232.6719,436.4844 235.5625,436.4844 C236.7813,436.4844 237.9375,436.1875 238.6875,435.6406 C239.2656,435.2344 239.5938,434.7813 239.5938,434.3906 C239.5938,433.9375 239.2031,433.5469 238.7344,433.5469 C238.5156,433.5469 238.3125,433.625 238.125,433.8125 C237.6719,434.2969 237.6719,434.2969 237.4844,434.3906 C237.0625,434.6563 236.375,434.7813 235.6094,434.7813 C233.5625,434.7813 232.2656,433.6875 232.2656,431.9844 L232.2656,430.8906 C232.2656,429.1094 233.5156,427.7969 235.25,427.7969 C235.8281,427.7969 236.4375,427.9531 236.9063,428.2031 C237.3906,428.4844 237.5625,428.7031 237.6563,429.1094 C237.7188,429.5156 237.75,429.6406 237.8906,429.7656 C238.0313,429.9063 238.2656,430.0156 238.4844,430.0156 C238.75,430.0156 239.0156,429.875 239.1875,429.6563 C239.2969,429.5 239.3281,429.3125 239.3281,428.8906 L239.3281,427.4688 C239.3281,427.0313 239.3125,426.9063 239.2188,426.75 C239.0625,426.4844 238.7813,426.3438 238.4844,426.3438 C238.1875,426.3438 237.9844,426.4375 237.7656,426.75 L237.5938,426.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="255.75" y="435.1543">VipDiscount</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="177.5" x2="372.5" y1="447" y2="447"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="184.5" y="455"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="196.5" y="461.2104">string $user</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="177.5" x2="372.5" y1="467.8047" y2="467.8047"/><ellipse cx="187.5" cy="478.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="196.5" y="482.0151">__construct(Entity_User $user)</text><ellipse cx="187.5" cy="491.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="196.5" y="494.8198">getDiscount(): float</text><!--MD5=[70fb2f31bf7c41f57588ba323a4af213]
class PromoCode--><rect codeLine="6" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="86.4141" id="PromoCode" style="stroke: #A80036; stroke-width: 1.5;" width="205" x="408.5" y="415"/><ellipse cx="471.75" cy="431" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M474.0938,426.6719 C473.1563,426.2344 472.5625,426.0938 471.6875,426.0938 C469.0625,426.0938 467.0625,428.1719 467.0625,430.8906 L467.0625,432.0156 C467.0625,434.5938 469.1719,436.4844 472.0625,436.4844 C473.2813,436.4844 474.4375,436.1875 475.1875,435.6406 C475.7656,435.2344 476.0938,434.7813 476.0938,434.3906 C476.0938,433.9375 475.7031,433.5469 475.2344,433.5469 C475.0156,433.5469 474.8125,433.625 474.625,433.8125 C474.1719,434.2969 474.1719,434.2969 473.9844,434.3906 C473.5625,434.6563 472.875,434.7813 472.1094,434.7813 C470.0625,434.7813 468.7656,433.6875 468.7656,431.9844 L468.7656,430.8906 C468.7656,429.1094 470.0156,427.7969 471.75,427.7969 C472.3281,427.7969 472.9375,427.9531 473.4063,428.2031 C473.8906,428.4844 474.0625,428.7031 474.1563,429.1094 C474.2188,429.5156 474.25,429.6406 474.3906,429.7656 C474.5313,429.9063 474.7656,430.0156 474.9844,430.0156 C475.25,430.0156 475.5156,429.875 475.6875,429.6563 C475.7969,429.5 475.8281,429.3125 475.8281,428.8906 L475.8281,427.4688 C475.8281,427.0313 475.8125,426.9063 475.7188,426.75 C475.5625,426.4844 475.2813,426.3438 474.9844,426.3438 C474.6875,426.3438 474.4844,426.4375 474.2656,426.75 L474.0938,426.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="492.25" y="435.1543">PromoCode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="409.5" x2="612.5" y1="447" y2="447"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="416.5" y="455"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="428.5" y="461.2104">string $promoCode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="409.5" x2="612.5" y1="467.8047" y2="467.8047"/><ellipse cx="419.5" cy="478.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="179" x="428.5" y="482.0151">__construct(string $promoCode)</text><ellipse cx="419.5" cy="491.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="428.5" y="494.8198">getDiscount(): float</text><!--MD5=[3f328f99dd1f7d83dd187cf2fceb5706]
class NullObject--><rect codeLine="11" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="60.8047" id="NullObject" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="7" y="427.5"/><ellipse cx="40.45" cy="443.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M42.7938,439.1719 C41.8563,438.7344 41.2625,438.5938 40.3875,438.5938 C37.7625,438.5938 35.7625,440.6719 35.7625,443.3906 L35.7625,444.5156 C35.7625,447.0938 37.8719,448.9844 40.7625,448.9844 C41.9813,448.9844 43.1375,448.6875 43.8875,448.1406 C44.4656,447.7344 44.7938,447.2813 44.7938,446.8906 C44.7938,446.4375 44.4031,446.0469 43.9344,446.0469 C43.7156,446.0469 43.5125,446.125 43.325,446.3125 C42.8719,446.7969 42.8719,446.7969 42.6844,446.8906 C42.2625,447.1563 41.575,447.2813 40.8094,447.2813 C38.7625,447.2813 37.4656,446.1875 37.4656,444.4844 L37.4656,443.3906 C37.4656,441.6094 38.7156,440.2969 40.45,440.2969 C41.0281,440.2969 41.6375,440.4531 42.1063,440.7031 C42.5906,440.9844 42.7625,441.2031 42.8563,441.6094 C42.9188,442.0156 42.95,442.1406 43.0906,442.2656 C43.2313,442.4063 43.4656,442.5156 43.6844,442.5156 C43.95,442.5156 44.2156,442.375 44.3875,442.1563 C44.4969,442 44.5281,441.8125 44.5281,441.3906 L44.5281,439.9688 C44.5281,439.5313 44.5125,439.4063 44.4188,439.25 C44.2625,438.9844 43.9813,438.8438 43.6844,438.8438 C43.3875,438.8438 43.1844,438.9375 42.9656,439.25 L42.7938,439.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="58.55" y="447.6543">NullObject</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="8" x2="140" y1="459.5" y2="459.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="8" x2="140" y1="467.5" y2="467.5"/><ellipse cx="18" cy="478.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="27" y="481.7104">getDiscount(): float</text><!--MD5=[64136b5b6be00feb37c1602fc08f5a22]
class IDiscount--><rect codeLine="14" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="60.8047" id="IDiscount" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="365" y="249"/><ellipse cx="401.15" cy="265" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M403.4938,260.6719 C402.5563,260.2344 401.9625,260.0938 401.0875,260.0938 C398.4625,260.0938 396.4625,262.1719 396.4625,264.8906 L396.4625,266.0156 C396.4625,268.5938 398.5719,270.4844 401.4625,270.4844 C402.6813,270.4844 403.8375,270.1875 404.5875,269.6406 C405.1656,269.2344 405.4938,268.7813 405.4938,268.3906 C405.4938,267.9375 405.1031,267.5469 404.6344,267.5469 C404.4156,267.5469 404.2125,267.625 404.025,267.8125 C403.5719,268.2969 403.5719,268.2969 403.3844,268.3906 C402.9625,268.6563 402.275,268.7813 401.5094,268.7813 C399.4625,268.7813 398.1656,267.6875 398.1656,265.9844 L398.1656,264.8906 C398.1656,263.1094 399.4156,261.7969 401.15,261.7969 C401.7281,261.7969 402.3375,261.9531 402.8063,262.2031 C403.2906,262.4844 403.4625,262.7031 403.5563,263.1094 C403.6188,263.5156 403.65,263.6406 403.7906,263.7656 C403.9313,263.9063 404.1656,264.0156 404.3844,264.0156 C404.65,264.0156 404.9156,263.875 405.0875,263.6563 C405.1969,263.5 405.2281,263.3125 405.2281,262.8906 L405.2281,261.4688 C405.2281,261.0313 405.2125,260.9063 405.1188,260.75 C404.9625,260.4844 404.6813,260.3438 404.3844,260.3438 C404.0875,260.3438 403.8844,260.4375 403.6656,260.75 L403.4938,260.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="419.85" y="269.1543">IDiscount</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="366" x2="498" y1="281" y2="281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="366" x2="498" y1="289" y2="289"/><ellipse cx="376" cy="300" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="385" y="303.2104">getDiscount(): float</text><!--MD5=[78bec0fde86ad92ec1dc3fb343b83709]
class Email--><rect codeLine="17" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="60.8047" id="Email" style="stroke: #A80036; stroke-width: 1.5;" width="427" x="648.5" y="427.5"/><ellipse cx="842.25" cy="443.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M844.5938,439.1719 C843.6563,438.7344 843.0625,438.5938 842.1875,438.5938 C839.5625,438.5938 837.5625,440.6719 837.5625,443.3906 L837.5625,444.5156 C837.5625,447.0938 839.6719,448.9844 842.5625,448.9844 C843.7813,448.9844 844.9375,448.6875 845.6875,448.1406 C846.2656,447.7344 846.5938,447.2813 846.5938,446.8906 C846.5938,446.4375 846.2031,446.0469 845.7344,446.0469 C845.5156,446.0469 845.3125,446.125 845.125,446.3125 C844.6719,446.7969 844.6719,446.7969 844.4844,446.8906 C844.0625,447.1563 843.375,447.2813 842.6094,447.2813 C840.5625,447.2813 839.2656,446.1875 839.2656,444.4844 L839.2656,443.3906 C839.2656,441.6094 840.5156,440.2969 842.25,440.2969 C842.8281,440.2969 843.4375,440.4531 843.9063,440.7031 C844.3906,440.9844 844.5625,441.2031 844.6563,441.6094 C844.7188,442.0156 844.75,442.1406 844.8906,442.2656 C845.0313,442.4063 845.2656,442.5156 845.4844,442.5156 C845.75,442.5156 846.0156,442.375 846.1875,442.1563 C846.2969,442 846.3281,441.8125 846.3281,441.3906 L846.3281,439.9688 C846.3281,439.5313 846.3125,439.4063 846.2188,439.25 C846.0625,438.9844 845.7813,438.8438 845.4844,438.8438 C845.1875,438.8438 844.9844,438.9375 844.7656,439.25 L844.5938,439.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="862.75" y="447.6543">Email</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="649.5" x2="1074.5" y1="459.5" y2="459.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="649.5" x2="1074.5" y1="467.5" y2="467.5"/><ellipse cx="659.5" cy="478.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="401" x="668.5" y="481.7104">process(Entity_User $user, string $templateName, array $params = [])</text><!--MD5=[84ee3a2de33a207d2296bad987d65a90]
class Sms--><rect codeLine="20" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="60.8047" id="Sms" style="stroke: #A80036; stroke-width: 1.5;" width="427" x="1110.5" y="427.5"/><ellipse cx="1306.75" cy="443.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1309.0938,439.1719 C1308.1563,438.7344 1307.5625,438.5938 1306.6875,438.5938 C1304.0625,438.5938 1302.0625,440.6719 1302.0625,443.3906 L1302.0625,444.5156 C1302.0625,447.0938 1304.1719,448.9844 1307.0625,448.9844 C1308.2813,448.9844 1309.4375,448.6875 1310.1875,448.1406 C1310.7656,447.7344 1311.0938,447.2813 1311.0938,446.8906 C1311.0938,446.4375 1310.7031,446.0469 1310.2344,446.0469 C1310.0156,446.0469 1309.8125,446.125 1309.625,446.3125 C1309.1719,446.7969 1309.1719,446.7969 1308.9844,446.8906 C1308.5625,447.1563 1307.875,447.2813 1307.1094,447.2813 C1305.0625,447.2813 1303.7656,446.1875 1303.7656,444.4844 L1303.7656,443.3906 C1303.7656,441.6094 1305.0156,440.2969 1306.75,440.2969 C1307.3281,440.2969 1307.9375,440.4531 1308.4063,440.7031 C1308.8906,440.9844 1309.0625,441.2031 1309.1563,441.6094 C1309.2188,442.0156 1309.25,442.1406 1309.3906,442.2656 C1309.5313,442.4063 1309.7656,442.5156 1309.9844,442.5156 C1310.25,442.5156 1310.5156,442.375 1310.6875,442.1563 C1310.7969,442 1310.8281,441.8125 1310.8281,441.3906 L1310.8281,439.9688 C1310.8281,439.5313 1310.8125,439.4063 1310.7188,439.25 C1310.5625,438.9844 1310.2813,438.8438 1309.9844,438.8438 C1309.6875,438.8438 1309.4844,438.9375 1309.2656,439.25 L1309.0938,439.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="26" x="1327.25" y="447.6543">Sms</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1111.5" x2="1536.5" y1="459.5" y2="459.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1111.5" x2="1536.5" y1="467.5" y2="467.5"/><ellipse cx="1121.5" cy="478.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="401" x="1130.5" y="481.7104">process(Entity_User $user, string $templateName, array $params = [])</text><!--MD5=[8f8e1eb9801a28141a3cc530d1238cb9]
class ICommunication--><rect codeLine="23" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="60.8047" id="ICommunication" style="stroke: #A80036; stroke-width: 1.5;" width="427" x="1051.5" y="249"/><ellipse cx="1213.75" cy="265" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1216.0938,260.6719 C1215.1563,260.2344 1214.5625,260.0938 1213.6875,260.0938 C1211.0625,260.0938 1209.0625,262.1719 1209.0625,264.8906 L1209.0625,266.0156 C1209.0625,268.5938 1211.1719,270.4844 1214.0625,270.4844 C1215.2813,270.4844 1216.4375,270.1875 1217.1875,269.6406 C1217.7656,269.2344 1218.0938,268.7813 1218.0938,268.3906 C1218.0938,267.9375 1217.7031,267.5469 1217.2344,267.5469 C1217.0156,267.5469 1216.8125,267.625 1216.625,267.8125 C1216.1719,268.2969 1216.1719,268.2969 1215.9844,268.3906 C1215.5625,268.6563 1214.875,268.7813 1214.1094,268.7813 C1212.0625,268.7813 1210.7656,267.6875 1210.7656,265.9844 L1210.7656,264.8906 C1210.7656,263.1094 1212.0156,261.7969 1213.75,261.7969 C1214.3281,261.7969 1214.9375,261.9531 1215.4063,262.2031 C1215.8906,262.4844 1216.0625,262.7031 1216.1563,263.1094 C1216.2188,263.5156 1216.25,263.6406 1216.3906,263.7656 C1216.5313,263.9063 1216.7656,264.0156 1216.9844,264.0156 C1217.25,264.0156 1217.5156,263.875 1217.6875,263.6563 C1217.7969,263.5 1217.8281,263.3125 1217.8281,262.8906 L1217.8281,261.4688 C1217.8281,261.0313 1217.8125,260.9063 1217.7188,260.75 C1217.5625,260.4844 1217.2813,260.3438 1216.9844,260.3438 C1216.6875,260.3438 1216.4844,260.4375 1216.2656,260.75 L1216.0938,260.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="1234.25" y="269.1543">ICommunication</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1052.5" x2="1477.5" y1="281" y2="281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1052.5" x2="1477.5" y1="289" y2="289"/><ellipse cx="1062.5" cy="300" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="401" x="1071.5" y="303.2104">process(Entity_User $user, string $templateName, array $params = [])</text><!--MD5=[aad56de1613bd8f9f3aa96a65b8d1f2d]
class BankTransfer--><rect codeLine="26" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="60.8047" id="BankTransfer" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="1750.5" y="427.5"/><ellipse cx="1779.9" cy="443.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1782.2438,439.1719 C1781.3063,438.7344 1780.7125,438.5938 1779.8375,438.5938 C1777.2125,438.5938 1775.2125,440.6719 1775.2125,443.3906 L1775.2125,444.5156 C1775.2125,447.0938 1777.3219,448.9844 1780.2125,448.9844 C1781.4313,448.9844 1782.5875,448.6875 1783.3375,448.1406 C1783.9156,447.7344 1784.2438,447.2813 1784.2438,446.8906 C1784.2438,446.4375 1783.8531,446.0469 1783.3844,446.0469 C1783.1656,446.0469 1782.9625,446.125 1782.775,446.3125 C1782.3219,446.7969 1782.3219,446.7969 1782.1344,446.8906 C1781.7125,447.1563 1781.025,447.2813 1780.2594,447.2813 C1778.2125,447.2813 1776.9156,446.1875 1776.9156,444.4844 L1776.9156,443.3906 C1776.9156,441.6094 1778.1656,440.2969 1779.9,440.2969 C1780.4781,440.2969 1781.0875,440.4531 1781.5563,440.7031 C1782.0406,440.9844 1782.2125,441.2031 1782.3063,441.6094 C1782.3688,442.0156 1782.4,442.1406 1782.5406,442.2656 C1782.6813,442.4063 1782.9156,442.5156 1783.1344,442.5156 C1783.4,442.5156 1783.6656,442.375 1783.8375,442.1563 C1783.9469,442 1783.9781,441.8125 1783.9781,441.3906 L1783.9781,439.9688 C1783.9781,439.5313 1783.9625,439.4063 1783.8688,439.25 C1783.7125,438.9844 1783.4313,438.8438 1783.1344,438.8438 C1782.8375,438.8438 1782.6344,438.9375 1782.4156,439.25 L1782.2438,439.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="1797.1" y="447.6543">BankTransfer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1751.5" x2="1892.5" y1="459.5" y2="459.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1751.5" x2="1892.5" y1="467.5" y2="467.5"/><ellipse cx="1761.5" cy="478.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1770.5" y="481.7104">pay(float $totalPrice)</text><!--MD5=[5e305716458bbdabbd2d7f572ed2bae2]
class Card--><rect codeLine="29" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="60.8047" id="Card" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="1572.5" y="427.5"/><ellipse cx="1625.75" cy="443.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1628.0938,439.1719 C1627.1563,438.7344 1626.5625,438.5938 1625.6875,438.5938 C1623.0625,438.5938 1621.0625,440.6719 1621.0625,443.3906 L1621.0625,444.5156 C1621.0625,447.0938 1623.1719,448.9844 1626.0625,448.9844 C1627.2813,448.9844 1628.4375,448.6875 1629.1875,448.1406 C1629.7656,447.7344 1630.0938,447.2813 1630.0938,446.8906 C1630.0938,446.4375 1629.7031,446.0469 1629.2344,446.0469 C1629.0156,446.0469 1628.8125,446.125 1628.625,446.3125 C1628.1719,446.7969 1628.1719,446.7969 1627.9844,446.8906 C1627.5625,447.1563 1626.875,447.2813 1626.1094,447.2813 C1624.0625,447.2813 1622.7656,446.1875 1622.7656,444.4844 L1622.7656,443.3906 C1622.7656,441.6094 1624.0156,440.2969 1625.75,440.2969 C1626.3281,440.2969 1626.9375,440.4531 1627.4063,440.7031 C1627.8906,440.9844 1628.0625,441.2031 1628.1563,441.6094 C1628.2188,442.0156 1628.25,442.1406 1628.3906,442.2656 C1628.5313,442.4063 1628.7656,442.5156 1628.9844,442.5156 C1629.25,442.5156 1629.5156,442.375 1629.6875,442.1563 C1629.7969,442 1629.8281,441.8125 1629.8281,441.3906 L1629.8281,439.9688 C1629.8281,439.5313 1629.8125,439.4063 1629.7188,439.25 C1629.5625,438.9844 1629.2813,438.8438 1628.9844,438.8438 C1628.6875,438.8438 1628.4844,438.9375 1628.2656,439.25 L1628.0938,439.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="28" x="1646.25" y="447.6543">Card</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1573.5" x2="1714.5" y1="459.5" y2="459.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1573.5" x2="1714.5" y1="467.5" y2="467.5"/><ellipse cx="1583.5" cy="478.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1592.5" y="481.7104">pay(float $totalPrice)</text><!--MD5=[047fc06d21760faa4b34b087eeef2bd9]
class IBilling--><rect codeLine="32" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="60.8047" id="IBilling" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="1585.5" y="249"/><ellipse cx="1633.75" cy="265" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1636.0938,260.6719 C1635.1563,260.2344 1634.5625,260.0938 1633.6875,260.0938 C1631.0625,260.0938 1629.0625,262.1719 1629.0625,264.8906 L1629.0625,266.0156 C1629.0625,268.5938 1631.1719,270.4844 1634.0625,270.4844 C1635.2813,270.4844 1636.4375,270.1875 1637.1875,269.6406 C1637.7656,269.2344 1638.0938,268.7813 1638.0938,268.3906 C1638.0938,267.9375 1637.7031,267.5469 1637.2344,267.5469 C1637.0156,267.5469 1636.8125,267.625 1636.625,267.8125 C1636.1719,268.2969 1636.1719,268.2969 1635.9844,268.3906 C1635.5625,268.6563 1634.875,268.7813 1634.1094,268.7813 C1632.0625,268.7813 1630.7656,267.6875 1630.7656,265.9844 L1630.7656,264.8906 C1630.7656,263.1094 1632.0156,261.7969 1633.75,261.7969 C1634.3281,261.7969 1634.9375,261.9531 1635.4063,262.2031 C1635.8906,262.4844 1636.0625,262.7031 1636.1563,263.1094 C1636.2188,263.5156 1636.25,263.6406 1636.3906,263.7656 C1636.5313,263.9063 1636.7656,264.0156 1636.9844,264.0156 C1637.25,264.0156 1637.5156,263.875 1637.6875,263.6563 C1637.7969,263.5 1637.8281,263.3125 1637.8281,262.8906 L1637.8281,261.4688 C1637.8281,261.0313 1637.8125,260.9063 1637.7188,260.75 C1637.5625,260.4844 1637.2813,260.3438 1636.9844,260.3438 C1636.6875,260.3438 1636.4844,260.4375 1636.2656,260.75 L1636.0938,260.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="38" x="1654.25" y="269.1543">IBilling</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1586.5" x2="1727.5" y1="281" y2="281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1586.5" x2="1727.5" y1="289" y2="289"/><ellipse cx="1596.5" cy="300" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1605.5" y="303.2104">pay(float $totalPrice)</text><!--MD5=[c40368751ea5476301fbcdc8cb25eba8]
class Security--><rect codeLine="35" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="137.6328" id="Security" style="stroke: #A80036; stroke-width: 1.5;" width="317" x="1928.5" y="389"/><ellipse cx="2058.25" cy="405" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2060.5938,400.6719 C2059.6563,400.2344 2059.0625,400.0938 2058.1875,400.0938 C2055.5625,400.0938 2053.5625,402.1719 2053.5625,404.8906 L2053.5625,406.0156 C2053.5625,408.5938 2055.6719,410.4844 2058.5625,410.4844 C2059.7813,410.4844 2060.9375,410.1875 2061.6875,409.6406 C2062.2656,409.2344 2062.5938,408.7813 2062.5938,408.3906 C2062.5938,407.9375 2062.2031,407.5469 2061.7344,407.5469 C2061.5156,407.5469 2061.3125,407.625 2061.125,407.8125 C2060.6719,408.2969 2060.6719,408.2969 2060.4844,408.3906 C2060.0625,408.6563 2059.375,408.7813 2058.6094,408.7813 C2056.5625,408.7813 2055.2656,407.6875 2055.2656,405.9844 L2055.2656,404.8906 C2055.2656,403.1094 2056.5156,401.7969 2058.25,401.7969 C2058.8281,401.7969 2059.4375,401.9531 2059.9063,402.2031 C2060.3906,402.4844 2060.5625,402.7031 2060.6563,403.1094 C2060.7188,403.5156 2060.75,403.6406 2060.8906,403.7656 C2061.0313,403.9063 2061.2656,404.0156 2061.4844,404.0156 C2061.75,404.0156 2062.0156,403.875 2062.1875,403.6563 C2062.2969,403.5 2062.3281,403.3125 2062.3281,402.8906 L2062.3281,401.4688 C2062.3281,401.0313 2062.3125,400.9063 2062.2188,400.75 C2062.0625,400.4844 2061.7813,400.3438 2061.4844,400.3438 C2061.1875,400.3438 2060.9844,400.4375 2060.7656,400.75 L2060.5938,400.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="49" x="2078.75" y="409.1543">Security</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1929.5" x2="2244.5" y1="421" y2="421"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1936.5" y="429"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="1948.5" y="435.2104">SessionInterface session</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1929.5" x2="2244.5" y1="441.8047" y2="441.8047"/><ellipse cx="1939.5" cy="452.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="221" x="1948.5" y="456.0151">__construct(SessionInterface $session)</text><ellipse cx="1939.5" cy="465.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="1948.5" y="468.8198">getUser(): ?Entity_User</text><ellipse cx="1939.5" cy="478.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1948.5" y="481.6245">isLogged(): bool</text><ellipse cx="1939.5" cy="491.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="291" x="1948.5" y="494.4292">authentication(string $login, string $password): bool</text><ellipse cx="1939.5" cy="504.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="1948.5" y="507.2339">logout()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1936.5" y="513.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="1948.5" y="520.0386">getUserRepository(): Repository_User</text><!--MD5=[08ce5d5e62178df8c11ebe67ca1f4d0a]
class ISecurity--><rect codeLine="44" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="99.2188" id="ISecurity" style="stroke: #A80036; stroke-width: 1.5;" width="317" x="1914.5" y="230"/><ellipse cx="2042.75" cy="246" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2045.0938,241.6719 C2044.1563,241.2344 2043.5625,241.0938 2042.6875,241.0938 C2040.0625,241.0938 2038.0625,243.1719 2038.0625,245.8906 L2038.0625,247.0156 C2038.0625,249.5938 2040.1719,251.4844 2043.0625,251.4844 C2044.2813,251.4844 2045.4375,251.1875 2046.1875,250.6406 C2046.7656,250.2344 2047.0938,249.7813 2047.0938,249.3906 C2047.0938,248.9375 2046.7031,248.5469 2046.2344,248.5469 C2046.0156,248.5469 2045.8125,248.625 2045.625,248.8125 C2045.1719,249.2969 2045.1719,249.2969 2044.9844,249.3906 C2044.5625,249.6563 2043.875,249.7813 2043.1094,249.7813 C2041.0625,249.7813 2039.7656,248.6875 2039.7656,246.9844 L2039.7656,245.8906 C2039.7656,244.1094 2041.0156,242.7969 2042.75,242.7969 C2043.3281,242.7969 2043.9375,242.9531 2044.4063,243.2031 C2044.8906,243.4844 2045.0625,243.7031 2045.1563,244.1094 C2045.2188,244.5156 2045.25,244.6406 2045.3906,244.7656 C2045.5313,244.9063 2045.7656,245.0156 2045.9844,245.0156 C2046.25,245.0156 2046.5156,244.875 2046.6875,244.6563 C2046.7969,244.5 2046.8281,244.3125 2046.8281,243.8906 L2046.8281,242.4688 C2046.8281,242.0313 2046.8125,241.9063 2046.7188,241.75 C2046.5625,241.4844 2046.2813,241.3438 2045.9844,241.3438 C2045.6875,241.3438 2045.4844,241.4375 2045.2656,241.75 L2045.0938,241.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="52" x="2063.25" y="250.1543">ISecurity</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1915.5" x2="2230.5" y1="262" y2="262"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1915.5" x2="2230.5" y1="270" y2="270"/><ellipse cx="1925.5" cy="281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="1934.5" y="284.2104">getUser(): ?Entity_User</text><ellipse cx="1925.5" cy="293.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1934.5" y="297.0151">isLogged(): bool</text><ellipse cx="1925.5" cy="306.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="291" x="1934.5" y="309.8198">authentication(string $login, string $password): bool</text><ellipse cx="1925.5" cy="319.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="1934.5" y="322.6245">logout()</text><!--MD5=[a7a294a2d2fc533a8f9f617ab0f8faab]
class Basket--><rect codeLine="50" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="163.2422" id="Basket" style="stroke: #A80036; stroke-width: 1.5;" width="634" x="1081" y="7"/><ellipse cx="1373.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1375.5938,18.6719 C1374.6563,18.2344 1374.0625,18.0938 1373.1875,18.0938 C1370.5625,18.0938 1368.5625,20.1719 1368.5625,22.8906 L1368.5625,24.0156 C1368.5625,26.5938 1370.6719,28.4844 1373.5625,28.4844 C1374.7813,28.4844 1375.9375,28.1875 1376.6875,27.6406 C1377.2656,27.2344 1377.5938,26.7813 1377.5938,26.3906 C1377.5938,25.9375 1377.2031,25.5469 1376.7344,25.5469 C1376.5156,25.5469 1376.3125,25.625 1376.125,25.8125 C1375.6719,26.2969 1375.6719,26.2969 1375.4844,26.3906 C1375.0625,26.6563 1374.375,26.7813 1373.6094,26.7813 C1371.5625,26.7813 1370.2656,25.6875 1370.2656,23.9844 L1370.2656,22.8906 C1370.2656,21.1094 1371.5156,19.7969 1373.25,19.7969 C1373.8281,19.7969 1374.4375,19.9531 1374.9063,20.2031 C1375.3906,20.4844 1375.5625,20.7031 1375.6563,21.1094 C1375.7188,21.5156 1375.75,21.6406 1375.8906,21.7656 C1376.0313,21.9063 1376.2656,22.0156 1376.4844,22.0156 C1376.75,22.0156 1377.0156,21.875 1377.1875,21.6563 C1377.2969,21.5 1377.3281,21.3125 1377.3281,20.8906 L1377.3281,19.4688 C1377.3281,19.0313 1377.3125,18.9063 1377.2188,18.75 C1377.0625,18.4844 1376.7813,18.3438 1376.4844,18.3438 C1376.1875,18.3438 1375.9844,18.4375 1375.7656,18.75 L1375.5938,18.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="1393.75" y="27.1543">Basket</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1082" x2="1714" y1="39" y2="39"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1089" y="47"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="1101" y="53.2104">SessionInterface session</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1082" x2="1714" y1="59.8047" y2="59.8047"/><ellipse cx="1092" cy="70.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="221" x="1101" y="74.0151">__construct(SessionInterface $session)</text><ellipse cx="1092" cy="83.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="1101" y="86.8198">addProduct(int $product)</text><ellipse cx="1092" cy="96.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="1101" y="99.6245">isProductInBasket(int $productId): bool</text><ellipse cx="1092" cy="109.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="1101" y="112.4292">getProductsInfo(): array</text><ellipse cx="1092" cy="122.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="1101" y="125.2339">checkout()</text><ellipse cx="1092" cy="134.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="608" x="1101" y="138.0386">checkoutProcess(IDiscount $discount, IBilling $billing, ISecurity $security, ICommunication $communication)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1089" y="144.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="242" x="1101" y="150.8433">getProductRepository(): Repository_Product</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1089" y="157.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="1101" y="163.6479">getProductIds(): array</text><!--MD5=[cd1085851f86bfdb73b0dab64561c7a3]
class Entity_User--><rect codeLine="61" fill="#FEFECE" filter="url(#f1f6vabj1t5kyj)" height="188.8516" id="Entity_User" style="stroke: #A80036; stroke-width: 1.5;" width="457" x="633.5" y="587"/><ellipse cx="824.25" cy="603" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M826.5938,598.6719 C825.6563,598.2344 825.0625,598.0938 824.1875,598.0938 C821.5625,598.0938 819.5625,600.1719 819.5625,602.8906 L819.5625,604.0156 C819.5625,606.5938 821.6719,608.4844 824.5625,608.4844 C825.7813,608.4844 826.9375,608.1875 827.6875,607.6406 C828.2656,607.2344 828.5938,606.7813 828.5938,606.3906 C828.5938,605.9375 828.2031,605.5469 827.7344,605.5469 C827.5156,605.5469 827.3125,605.625 827.125,605.8125 C826.6719,606.2969 826.6719,606.2969 826.4844,606.3906 C826.0625,606.6563 825.375,606.7813 824.6094,606.7813 C822.5625,606.7813 821.2656,605.6875 821.2656,603.9844 L821.2656,602.8906 C821.2656,601.1094 822.5156,599.7969 824.25,599.7969 C824.8281,599.7969 825.4375,599.9531 825.9063,600.2031 C826.3906,600.4844 826.5625,600.7031 826.6563,601.1094 C826.7188,601.5156 826.75,601.6406 826.8906,601.7656 C827.0313,601.9063 827.2656,602.0156 827.4844,602.0156 C827.75,602.0156 828.0156,601.875 828.1875,601.6563 C828.2969,601.5 828.3281,601.3125 828.3281,600.8906 L828.3281,599.4688 C828.3281,599.0313 828.3125,598.9063 828.2188,598.75 C828.0625,598.4844 827.7813,598.3438 827.4844,598.3438 C827.1875,598.3438 826.9844,598.4375 826.7656,598.75 L826.5938,598.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="844.75" y="607.1543">Entity_User</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="634.5" x2="1089.5" y1="619" y2="619"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="641.5" y="627"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="653.5" y="633.2104">int id</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="641.5" y="639.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="653.5" y="646.0151">string name</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="641.5" y="652.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="653.5" y="658.8198">string login</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="641.5" y="665.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="653.5" y="671.6245">string password</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="641.5" y="678.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="653.5" y="684.4292">Role role</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="634.5" x2="1089.5" y1="691.0234" y2="691.0234"/><ellipse cx="644.5" cy="702.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="431" x="653.5" y="705.2339">__construct(int $id, string $name, string $login, string $password, Role $role)</text><ellipse cx="644.5" cy="714.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="653.5" y="718.0386">getId(): int</text><ellipse cx="644.5" cy="727.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="653.5" y="730.8433">getName(): string</text><ellipse cx="644.5" cy="740.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="653.5" y="743.6479">getLogin(): string</text><ellipse cx="644.5" cy="753.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="653.5" y="756.4526">getPasswordHash(): string</text><ellipse cx="644.5" cy="766.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="653.5" y="769.2573">getRole(): Entity_Role</text><!--MD5=[e9072238aa2ae8a15336768efbed9a4a]
link Basket to Card--><path codeLine="74" d="M1454.92,170.185 C1468.5,189.686 1482.86,210.522 1496,230 C1541.78,297.874 1593.71,378.366 1622.27,422.957 " fill="none" id="Basket-to-Card" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1625.13,427.422,1623.6476,417.6853,1622.4347,423.2106,1616.9094,421.9978,1625.13,427.422" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f3b95ce7ac606a7afd9cd8681262e386]
link Basket to Email--><path codeLine="75" d="M1136.02,170.105 C1100,186.928 1064.85,206.776 1034,230 C963.017,283.446 906.935,373.713 879.812,422.771 " fill="none" id="Basket-to-Email" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="877.278,427.387,885.1151,421.4221,879.6839,423.0039,878.1021,417.5727,877.278,427.387" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[33cd7a4524d9da3b558c5c71de5c5930]
link Basket to NullObject--><path codeLine="76" d="M1080.72,112.515 C820.484,134.944 474.918,173.904 347,230 C243.568,275.358 148.345,372.073 102.5656,423.394 " fill="none" id="Basket-to-NullObject" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="99.0891,427.311,108.0547,423.2344,102.4078,423.5712,102.071,417.9244,99.0891,427.311" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1dbf57d1ab25f4e5ab04689980d58dde]
link Basket to Security--><path codeLine="77" d="M1617.37,170.137 C1660.73,188.279 1705.37,208.564 1746,230 C1758.45,236.571 1886.04,321.913 1981.52,386.034 " fill="none" id="Basket-to-Security" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1985.76,388.879,1980.5168,380.5418,1981.6086,386.0923,1976.0581,387.1841,1985.76,388.879" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f88a28ad893b60460730e030c81c03ab]
link Basket to ISecurity--><path codeLine="78" d="M1685.73,170.064 C1762.24,191.488 1842.24,213.888 1909.54,232.73 " fill="none" id="Basket-to-ISecurity" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1914.36,234.081,1906.7824,227.7897,1909.5475,232.7248,1904.6124,235.4898,1914.36,234.081" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[9a90b74115e91a0516f4429be6489b47]
link Basket to IDiscount--><path codeLine="79" d="M1080.69,151.582 C875.638,191.701 625.246,240.691 504.276,264.359 " fill="none" id="Basket-to-IDiscount" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="499.321,265.328,508.9215,267.5256,504.228,264.368,507.3856,259.6745,499.321,265.328" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4df5fe09c95ba1f4c7c8e1e1dd12161f]
link Basket to ICommunication--><path codeLine="80" d="M1341.21,170.201 C1322.89,196.241 1303.56,223.71 1288.95,244.467 " fill="none" id="Basket-to-ICommunication" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1285.91,248.792,1294.3623,243.7365,1288.7888,244.7039,1287.8214,239.1304,1285.91,248.792" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6042f2a5d36b60885b762175b39abe16]
link Basket to IBilling--><path codeLine="81" d="M1508.59,170.201 C1545.02,196.786 1583.49,224.86 1612.14,245.761 " fill="none" id="Basket-to-IBilling" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1616.29,248.792,1611.372,240.259,1612.249,245.8474,1606.6606,246.7245,1616.29,248.792" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[45d14a52bca9ef56e5f530be4f004732]
reverse link ISecurity to Security--><path codeLine="82" d="M2078.48,349.566 C2079.51,362.52 2080.58,376.054 2081.6,388.976 " fill="none" id="ISecurity-backto-Security" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="2071.47,349.688,2076.86,329.197,2085.42,348.58,2071.47,349.688" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[09e7b8b05ce617cf83dc4eb3338e3226]
reverse link IBilling to Card--><path codeLine="83" d="M1653.34,330.172 C1651.04,361.482 1648.14,400.858 1646.18,427.361 " fill="none" id="IBilling-backto-Card" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1646.37,329.474,1654.82,310.042,1660.34,330.502,1646.37,329.474" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[2e7b55e8f2d2f703c85f17763676f40c]
reverse link IBilling to BankTransfer--><path codeLine="84" d="M1698.45,324.838 C1728.42,356.896 1768.09,399.329 1794.29,427.361 " fill="none" id="IBilling-backto-BankTransfer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1693.16,329.433,1684.62,310.042,1703.39,319.872,1693.16,329.433" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0dce1bad39aacfd030fe1373a8371bf6]
reverse link ICommunication to Email--><path codeLine="85" d="M1178.86,318.225 C1104.38,350.845 998.188,397.354 929.673,427.361 " fill="none" id="ICommunication-backto-Email" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1176.42,311.654,1197.55,310.042,1182.04,324.478,1176.42,311.654" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[67dd2fc7a2bbeda560d5335f3377cbff]
reverse link ICommunication to Sms--><path codeLine="86" d="M1281.3,329.271 C1291.82,360.724 1305.15,400.603 1314.09,427.361 " fill="none" id="ICommunication-backto-Sms" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1274.58,331.23,1274.88,310.042,1287.85,326.791,1274.58,331.23" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c0b70b875987b20ff5faedce1be000da]
reverse link IDiscount to NullObject--><path codeLine="87" d="M345.76,307.397 C290.473,326.399 218.233,354.571 159,389 C140.374,399.826 121.481,414.495 106.2524,427.437 " fill="none" id="IDiscount-backto-NullObject" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="343.744,300.69,364.932,300.94,348.212,313.958,343.744,300.69" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5f0b4fbafaefaf350311c4e62a144e50]
reverse link IDiscount to PromoCode--><path codeLine="88" d="M453.424,328.364 C465.506,355.358 480.465,388.78 492.107,414.79 " fill="none" id="IDiscount-backto-PromoCode" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="447.004,331.157,445.223,310.042,459.783,325.437,447.004,331.157" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[381f0e38d3c022d6c8f48896be73d4e1]
reverse link IDiscount to VipDiscount--><path codeLine="89" d="M392.195,325.249 C367.731,352.751 336.581,387.77 312.546,414.79 " fill="none" id="IDiscount-backto-VipDiscount" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="387.199,320.333,405.722,310.042,397.659,329.638,387.199,320.333" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1413ff586d14249a7ca6fc470186559f]
link VipDiscount to Entity_User--><path codeLine="90" d="M341.17,501.077 C357.138,510.302 374.394,519.532 391,527 C466.312,560.87 551.388,590.927 628.309,615.266 " fill="none" id="VipDiscount-to-Entity_User" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="633.364,616.861,625.9849,610.3381,628.5958,615.3564,623.5775,617.9673,633.364,616.861" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[938dde51af1b638a218b9631dc6662e7]
link Sms to Entity_User--><path codeLine="91" d="M1262.17,488.643 C1210.62,513.357 1134.2,549.999 1061.91,584.657 " fill="none" id="Sms-to-Entity_User" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1057.15,586.937,1066.9942,586.6355,1061.6548,584.7674,1063.5229,579.4279,1057.15,586.937" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[600f0ff32ad9409eb0dfa240e3b755c1]
link Email to Entity_User--><path codeLine="92" d="M862,488.872 C862,512.748 862,547.649 862,581.144 " fill="none" id="Email-to-Entity_User" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="862,586.506,866,577.506,862,581.506,858,577.506,862,586.506" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[9ad96f97b8f9fbd03486c9bc9c8aa7fa]
@startuml
class VipDiscount{
- string $user
+ __construct(Entity_User $user)
+ getDiscount(): float
}
class PromoCode{
- string $promoCode
+ __construct(string $promoCode)
+ getDiscount(): float
}
class NullObject{
+ getDiscount(): float
}
class IDiscount{
+ getDiscount(): float
}
class Email{
+ process(Entity_User $user, string $templateName, array $params = [])
}
class Sms{
+ process(Entity_User $user, string $templateName, array $params = [])
}
class ICommunication{
+ process(Entity_User $user, string $templateName, array $params = [])
}
class BankTransfer{
+ pay(float $totalPrice)
}
class Card{
+ pay(float $totalPrice)
}
class IBilling{
+ pay(float $totalPrice)
}
class Security{
- SessionInterface session
+ __construct(SessionInterface $session)
+ getUser(): ?Entity_User
+ isLogged(): bool
+ authentication(string $login, string $password): bool
+ logout()
- getUserRepository(): Repository_User
}
class ISecurity{
+ getUser(): ?Entity_User
+ isLogged(): bool
+ authentication(string $login, string $password): bool
+ logout()
}
class Basket{
- SessionInterface session
+ __construct(SessionInterface $session)
+ addProduct(int $product)
+ isProductInBasket(int $productId): bool
+ getProductsInfo(): array
+ checkout()
+ checkoutProcess(IDiscount $discount, IBilling $billing, ISecurity $security, ICommunication $communication)
- getProductRepository(): Repository_Product
- getProductIds(): array
}
class Entity_User{
- int id
- string name
- string login
- string password
- Role role
+ __construct(int $id, string $name, string $login, string $password, Role $role)
+ getId(): int
+ getName(): string
+ getLogin(): string
+ getPasswordHash(): string
+ getRole(): Entity_Role
}
Basket - -> Card
Basket - -> Email
Basket ..> NullObject
Basket ..> Security
Basket ..> ISecurity
Basket ..> IDiscount
Basket - -> ICommunication
Basket - -> IBilling
ISecurity <|.. Security
IBilling <|.. Card
IBilling <|.. BankTransfer
ICommunication <|.. Email
ICommunication <|.. Sms
IDiscount <|.. NullObject
IDiscount <|.. PromoCode
IDiscount <|.. VipDiscount
VipDiscount ..> Entity_User
Sms ..> Entity_User
Email ..> Entity_User
@enduml

PlantUML version 1.2020.19beta4(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>